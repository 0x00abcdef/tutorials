# Micro 构建微服务

我们尝试使用本系列10篇文章向大家介绍如何使用Micro生态链来构建微服务。

在开始之前，我们假设大家对Micro有一定的了解，并且对Golang语法有一定程度的掌握。

在本系列教程中，我们会虚拟一个商业项目，并且会尽可能使用Micro各种技术来实现这个项目，诚然，也会尽可能让使用的技术在业务上尽可能合理，而不为了只使用这技术而已。

不过我们也不会去实现每个细节，比如用户注册与登录，我们不会做注册功能，新用户直接在数据库里插入即可，因为花太多时间在这些细节上面会让整个项目的侧重点不再偏向Micro本身。

## 虚拟项目

我们虚拟一个在线书城项目。在线书城是像淘宝一样在线购物商城，支持用户浏览、加购物车、下单、支付，还有库存维护。整个系统会按上面的业务模块拆分成5个微服务，每个微服务的数量不受限制。

### 业务模块

- 用户，users
- 库存，inventory
- 权限，auth
- 订单，orders
- 支付，payment

### 服务抽象结构

![](./docs/design.png)

## 准备工作

- Golang环境 [安装](https://golang.google.cn/)
- gRPC [安装](https://grpc.io/docs/quickstart/go.html)
- Micro

```bash

## 安装go-micro
go get github.com/micro/go-micro

## 安装micro
go get github.com/micro/micro

```
- mysql


还有其它一些会用到的库或组件，但不是基础依赖，我们会在要用到的章节中再安装。

## 章节结构

- 第一章 用户服务
- 第二章 权限服务
- 第三章 库存服务与订单服务、支付服务
- 第四章 消息总线
- 第五章 使用配置中心
- 第六章 熔断、降级与链路追踪
- 第七章 docker打包与K8s部署
- 第八章 todo
- 第九章 todo
- 第十章 todo

## 特别声明

- 每一章中的代码都是独立的，这是为了让教程更清晰，如果放在一起，会让后面章节的代码与前面章节的同时存在，让从头开始的新读者不易理解。但我们也不用一个章节一个分支来解决这个问题，因为太多分支很难管理。
